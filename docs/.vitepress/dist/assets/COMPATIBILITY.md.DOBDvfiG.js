import{_ as o,c as t,o as d,a2 as r}from"./chunks/framework.BUjRcKcJ.js";const f=JSON.parse('{"title":"Compose File Compatibility Matrix","description":"","frontmatter":{},"headers":[],"relativePath":"COMPATIBILITY.md","filePath":"COMPATIBILITY.md","lastUpdated":1765392563000}'),c={name:"COMPATIBILITY.md"};function a(i,e,l,s,n,m){return d(),t("div",null,e[0]||(e[0]=[r('<h1 id="compose-file-compatibility-matrix" tabindex="-1">Compose File Compatibility Matrix <a class="header-anchor" href="#compose-file-compatibility-matrix" aria-label="Permalink to &quot;Compose File Compatibility Matrix&quot;">​</a></h1><table tabindex="0"><thead><tr><th>Scenario</th><th>File(s)</th><th>Notes</th></tr></thead><tbody><tr><td>Single host, Docker Compose</td><td><code>docker-compose.yml</code> (+ optional overrides like <code>docker-compose.optimized.yml</code>)</td><td>Requires Docker Engine (rootful recommended). Paths driven by CONFIG_ROOT/DOWNLOADS_ROOT/MEDIA_ROOT envs. Low ports (139/445, 2049/111) and privileged containers need rootful + SELinux labels (<code>:z</code> or <code>chcon</code>).</td></tr><tr><td>Single host, Swarm (bind mounts)</td><td><code>docker-compose.swarm.yml</code> + <code>docker-compose.swarm.local-bind.yml</code></td><td>Uses overlay networks; create <code>traefik-public</code> overlay even if Traefik not deployed. Bind paths from .env; labels require <code>storage=true</code> on the node.</td></tr><tr><td>Multi-node Swarm (NFS)</td><td><code>docker-compose.swarm.yml</code></td><td>Expects NFS_SERVER/NFS_PATH exports. Set node labels for placement (<code>storage</code>, <code>performance</code>, <code>vpn</code>).</td></tr><tr><td>VPN/Tunnel variants</td><td><code>docker-compose.vpn*.yml</code>, <code>docker-compose.tunnel.yml</code></td><td>Still Docker-only; mounts docker.sock. Ensure paths envs are set.</td></tr><tr><td>Portable single-file reference</td><td><code>docker-compose.portable.yml</code></td><td>Path envs required; uses default bridge.</td></tr></tbody></table><p>General requirements</p><ul><li>Docker Engine + docker compose v2 (Podman not supported: swarm, docker.sock, privileged/low ports, and event consumers).</li><li>Set <code>.env</code> (copy from <code>.env.example</code>) for CONFIG_ROOT/DOWNLOADS_ROOT/MEDIA_ROOT/PUID/PGID/TZ/DOMAIN.</li><li>SELinux enforcing: relabel media/config/downloads (<code>chcon -Rt svirt_sandbox_file_t …</code>) or add <code>:z</code> to binds.</li><li>Create <code>traefik-public</code> overlay for Swarm files to satisfy Traefik labels: <code>docker network create --driver overlay --attachable traefik-public</code>.</li></ul>',4)]))}const _=o(c,[["render",a]]);export{f as __pageData,_ as default};
