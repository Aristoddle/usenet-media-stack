<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture Overview | Usenet Media Stack</title>
    <meta name="description" content="Professional-grade hot-swappable JBOD media automation with intelligent deployment and "just fucking works" usability.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.qp7qGaqN.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.4n85fh9l.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DKm8zzce.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BJipvzRy.js">
    <link rel="modulepreload" href="/assets/architecture_index.md.nLpJVIN1.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Usenet Media Stack">
    <meta property="og:description" content="Professional-grade hot-swappable JBOD media automation">
    <meta name="keywords" content="media automation, docker, jellyfin, sonarr, radarr, hot-swap, jbod, gpu acceleration">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>Usenet Media Stack</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/free-media.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>📚 Free Media</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cli/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>CLI Reference</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/architecture/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Architecture</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/advanced/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Advanced</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>Links</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://github.com/Aristoddle/usenet-media-stack" target="_blank" rel="noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>GitHub</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="mailto:j3lanzone@gmail.com?subject=Usenet%20Media%20Stack%20-%20Credential%20Request&amp;body=Hi%20Joe,%0A%0AI&#39;d%20like%20access%20to%20your%20professional%20media%20automation%20stack.%20Please%20send%20me:%0A%0A-%20Usenet%20provider%20credentials%0A-%20Indexer%20API%20keys%0A-%20Anna&#39;s%20Archive%20professional%20access%0A-%20VPN%20configuration%0A%0AThanks!" target="_blank" rel="noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>📧 Request Credentials</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://github.com/Aristoddle/usenet-media-stack/issues" target="_blank" rel="noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Issues</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/roadmap.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Roadmap</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aristoddle/usenet-media-stack" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aristoddle/usenet-media-stack" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>🏗️ Architecture</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>System Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/cli-design.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>CLI Design</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/services.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Service Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/storage.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Storage System</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/hardware.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Hardware Integration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/architecture/network.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Network & Security</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _architecture_" data-v-e6f2a212><div><h1 id="architecture-overview" tabindex="-1">Architecture Overview <a class="header-anchor" href="#architecture-overview" aria-label="Permalink to &quot;Architecture Overview&quot;">​</a></h1><p>The Usenet Media Stack is built on a foundation of professional software engineering principles, combining hot-swappable JBOD storage, universal hardware optimization, and a sophisticated CLI following modern design patterns.</p><h2 id="core-design-philosophy" tabindex="-1">Core Design Philosophy <a class="header-anchor" href="#core-design-philosophy" aria-label="Permalink to &quot;Core Design Philosophy&quot;">​</a></h2><h3 id="bell-labs-standards" tabindex="-1">Bell Labs Standards <a class="header-anchor" href="#bell-labs-standards" aria-label="Permalink to &quot;Bell Labs Standards&quot;">​</a></h3><p>The codebase follows principles taught by <strong>Stan Eisenstat</strong> at Yale:</p><ul><li><strong>Clarity over cleverness</strong> - Every function is documented, every error teaches</li><li><strong>Professional standards</strong> - 80-character lines, comprehensive error handling</li><li><strong>Quality architecture</strong> - Single responsibility, proper abstractions, testing</li></ul><h3 id="modern-cli-design" tabindex="-1">Modern CLI Design <a class="header-anchor" href="#modern-cli-design" aria-label="Permalink to &quot;Modern CLI Design&quot;">​</a></h3><p>Inspired by industry-leading tools:</p><ul><li><strong>Git</strong>: Subcommand + flags perfection (<code>git commit -m &quot;msg&quot; --amend</code>)</li><li><strong>Docker</strong>: Object + action model (<code>docker container run --rm -it</code>)</li><li><strong>Pyenv</strong>: Workflow-oriented with smart help (<code>pyenv install 3.9.7</code>)</li></ul><h2 id="system-architecture" tabindex="-1">System Architecture <a class="header-anchor" href="#system-architecture" aria-label="Permalink to &quot;System Architecture&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                     Usenet Media Stack                     │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  CLI Interface (usenet)                                     │</span></span>
<span class="line"><span>│  ├─ Pure subcommand routing                                 │</span></span>
<span class="line"><span>│  ├─ Three-tier help system                                  │</span></span>
<span class="line"><span>│  └─ Rich zsh/bash completions                               │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Component Management                                       │</span></span>
<span class="line"><span>│  ├─ Storage: Hot-swappable JBOD                            │</span></span>
<span class="line"><span>│  ├─ Hardware: Universal GPU optimization                    │</span></span>
<span class="line"><span>│  ├─ Services: 19-service orchestration                     │</span></span>
<span class="line"><span>│  └─ Backup: Configuration management                       │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Service Layer (19 Services)                               │</span></span>
<span class="line"><span>│  ├─ Media: Jellyfin, Overseerr, YACReader, Tdarr          │</span></span>
<span class="line"><span>│  ├─ Automation: Sonarr, Radarr, Readarr, Bazarr, etc.     │</span></span>
<span class="line"><span>│  ├─ Downloads: SABnzbd, Transmission                       │</span></span>
<span class="line"><span>│  └─ Management: Portainer, Netdata                         │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Container Orchestration (Docker Compose)                  │</span></span>
<span class="line"><span>│  ├─ Base: docker-compose.yml                               │</span></span>
<span class="line"><span>│  ├─ Hardware: docker-compose.optimized.yml                 │</span></span>
<span class="line"><span>│  └─ Storage: docker-compose.storage.yml (dynamic)          │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Storage Layer                                              │</span></span>
<span class="line"><span>│  ├─ Hot-swappable JBOD drives                              │</span></span>
<span class="line"><span>│  ├─ Cross-platform exFAT support                           │</span></span>
<span class="line"><span>│  ├─ Cloud storage integration                               │</span></span>
<span class="line"><span>│  └─ Network storage (NFS/SMB)                              │</span></span>
<span class="line"><span>├─────────────────────────────────────────────────────────────┤</span></span>
<span class="line"><span>│  Hardware Layer                                             │</span></span>
<span class="line"><span>│  ├─ Universal GPU support (NVIDIA/AMD/Intel/Pi)            │</span></span>
<span class="line"><span>│  ├─ Automatic driver installation                          │</span></span>
<span class="line"><span>│  ├─ Performance profiling                                   │</span></span>
<span class="line"><span>│  └─ Real-time optimization                                  │</span></span>
<span class="line"><span>└─────────────────────────────────────────────────────────────┘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="component-architecture" tabindex="-1">Component Architecture <a class="header-anchor" href="#component-architecture" aria-label="Permalink to &quot;Component Architecture&quot;">​</a></h2><h3 id="cli-design-pattern" tabindex="-1">CLI Design Pattern <a class="header-anchor" href="#cli-design-pattern" aria-label="Permalink to &quot;CLI Design Pattern&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Modern subcommand architecture</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">componen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Examples:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # Component: storage, Action: list</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> optimize</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # Component: hardware, Action: optimize  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Component: services, Action: restart</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="component-responsibilities" tabindex="-1">Component Responsibilities <a class="header-anchor" href="#component-responsibilities" aria-label="Permalink to &quot;Component Responsibilities&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Component</th><th>Purpose</th><th>Key Features</th></tr></thead><tbody><tr><td><strong>Storage</strong></td><td>Hot-swappable JBOD management</td><td>Real-time detection, API sync, exFAT support</td></tr><tr><td><strong>Hardware</strong></td><td>GPU optimization &amp; drivers</td><td>Universal detection, auto-install, benchmarking</td></tr><tr><td><strong>Services</strong></td><td>19-service orchestration</td><td>Health monitoring, log access, API management</td></tr><tr><td><strong>Backup</strong></td><td>Configuration management</td><td>Metadata tracking, atomic operations, encryption</td></tr><tr><td><strong>Deploy</strong></td><td>Orchestrated deployment</td><td>Pre-flight checks, profile selection, validation</td></tr><tr><td><strong>Validate</strong></td><td>System health checks</td><td>Auto-fix, monitoring, troubleshooting</td></tr></tbody></table><h2 id="data-flow-architecture" tabindex="-1">Data Flow Architecture <a class="header-anchor" href="#data-flow-architecture" aria-label="Permalink to &quot;Data Flow Architecture&quot;">​</a></h2><h3 id="media-automation-pipeline" tabindex="-1">Media Automation Pipeline <a class="header-anchor" href="#media-automation-pipeline" aria-label="Permalink to &quot;Media Automation Pipeline&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐</span></span>
<span class="line"><span>│   Request   │    │   Search    │    │  Download   │    │   Process   │</span></span>
<span class="line"><span>│ (Overseerr) │───▶│ (Prowlarr)  │───▶│ (SABnzbd)   │───▶│   (Tdarr)   │</span></span>
<span class="line"><span>└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘</span></span>
<span class="line"><span>       │                   │                   │                   │</span></span>
<span class="line"><span>       ▼                   ▼                   ▼                   ▼</span></span>
<span class="line"><span>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐</span></span>
<span class="line"><span>│  Organize   │    │   Quality   │    │   Storage   │    │   Serve     │</span></span>
<span class="line"><span>│ (Sonarr/    │───▶│ (Recyclarr) │───▶│   (JBOD)    │───▶│ (Jellyfin)  │</span></span>
<span class="line"><span>│  Radarr)    │    │             │    │             │    │             │</span></span>
<span class="line"><span>└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="storage-integration-flow" tabindex="-1">Storage Integration Flow <a class="header-anchor" href="#storage-integration-flow" aria-label="Permalink to &quot;Storage Integration Flow&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────┐    ┌─────────────┐    ┌─────────────┐</span></span>
<span class="line"><span>│    Drive    │    │  Discovery  │    │     API     │</span></span>
<span class="line"><span>│  Detection  │───▶│   &amp; Pool    │───▶│    Sync     │</span></span>
<span class="line"><span>│             │    │ Management  │    │             │</span></span>
<span class="line"><span>└─────────────┘    └─────────────┘    └─────────────┘</span></span>
<span class="line"><span>       │                   │                   │</span></span>
<span class="line"><span>       ▼                   ▼                   ▼</span></span>
<span class="line"><span>┌─────────────┐    ┌─────────────┐    ┌─────────────┐</span></span>
<span class="line"><span>│   Docker    │    │   Service   │    │   Health    │</span></span>
<span class="line"><span>│  Compose    │───▶│  Restart    │───▶│ Validation  │</span></span>
<span class="line"><span>│ Generation  │    │             │    │             │</span></span>
<span class="line"><span>└─────────────┘    └─────────────┘    └─────────────┘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="file-system-architecture" tabindex="-1">File System Architecture <a class="header-anchor" href="#file-system-architecture" aria-label="Permalink to &quot;File System Architecture&quot;">​</a></h2><h3 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to &quot;Project Structure&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>usenet-media-stack/</span></span>
<span class="line"><span>├── usenet                  # Single entry point CLI</span></span>
<span class="line"><span>├── lib/                    # Component implementations</span></span>
<span class="line"><span>│   ├── commands/          # CLI command handlers</span></span>
<span class="line"><span>│   │   ├── storage.zsh    # Hot-swappable JBOD management</span></span>
<span class="line"><span>│   │   ├── hardware.zsh   # GPU optimization system</span></span>
<span class="line"><span>│   │   ├── backup.zsh     # Configuration backup/restore</span></span>
<span class="line"><span>│   │   ├── services.zsh   # 19-service management</span></span>
<span class="line"><span>│   │   ├── deploy.zsh     # Orchestrated deployment</span></span>
<span class="line"><span>│   │   └── validate.zsh   # System health validation</span></span>
<span class="line"><span>│   ├── core/             # Shared utilities</span></span>
<span class="line"><span>│   │   ├── init.zsh      # Configuration loading</span></span>
<span class="line"><span>│   │   ├── common.zsh    # Utilities and logging</span></span>
<span class="line"><span>│   │   └── stan-quality.zsh # Code quality framework</span></span>
<span class="line"><span>│   └── test/             # Testing framework</span></span>
<span class="line"><span>├── config/               # Service configurations (19 services)</span></span>
<span class="line"><span>├── completions/          # Rich CLI completions</span></span>
<span class="line"><span>├── docker-compose.yml    # Base service definitions</span></span>
<span class="line"><span>├── docker-compose.*.yml  # Generated optimizations</span></span>
<span class="line"><span>├── .env                  # All credentials (gitignored)</span></span>
<span class="line"><span>└── docs/                # Professional documentation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="configuration-management" tabindex="-1">Configuration Management <a class="header-anchor" href="#configuration-management" aria-label="Permalink to &quot;Configuration Management&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Configuration Sources (Priority Order):</span></span>
<span class="line"><span>1. Command-line flags    (--profile dedicated)</span></span>
<span class="line"><span>2. Environment variables (.env file)</span></span>
<span class="line"><span>3. Configuration files   (config/*.conf)</span></span>
<span class="line"><span>4. Intelligent defaults  (hardware-based)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="network-architecture" tabindex="-1">Network Architecture <a class="header-anchor" href="#network-architecture" aria-label="Permalink to &quot;Network Architecture&quot;">​</a></h2><h3 id="service-exposure" tabindex="-1">Service Exposure <a class="header-anchor" href="#service-exposure" aria-label="Permalink to &quot;Service Exposure&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>External Access (Cloudflare Tunnel):</span></span>
<span class="line"><span>├── jellyfin.example.com → Jellyfin (8096)</span></span>
<span class="line"><span>├── requests.example.com → Overseerr (5055)</span></span>
<span class="line"><span>├── comics.example.com → YACReader (8082)</span></span>
<span class="line"><span>└── manage.example.com → Portainer (9000)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Internal Network (Docker Bridge):</span></span>
<span class="line"><span>├── Media Services     (8080-8099)</span></span>
<span class="line"><span>├── Automation Stack   (8900-8999, 6700-6799)</span></span>
<span class="line"><span>├── Management Tools   (9000-9999, 19999)</span></span>
<span class="line"><span>└── File Sharing      (445, 2049)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="security-model" tabindex="-1">Security Model <a class="header-anchor" href="#security-model" aria-label="Permalink to &quot;Security Model&quot;">​</a></h3><ul><li><strong>Zero exposed ports</strong> - All access via Cloudflare Tunnel</li><li><strong>API authentication</strong> - Unique keys for each service</li><li><strong>Container isolation</strong> - Services in dedicated network</li><li><strong>Credential management</strong> - Environment-based secrets</li></ul><h2 id="hardware-optimization-architecture" tabindex="-1">Hardware Optimization Architecture <a class="header-anchor" href="#hardware-optimization-architecture" aria-label="Permalink to &quot;Hardware Optimization Architecture&quot;">​</a></h2><h3 id="multi-platform-gpu-support" tabindex="-1">Multi-Platform GPU Support <a class="header-anchor" href="#multi-platform-gpu-support" aria-label="Permalink to &quot;Multi-Platform GPU Support&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GPU Detection &amp; Optimization:</span></span>
<span class="line"><span>├── NVIDIA RTX Series</span></span>
<span class="line"><span>│   ├── NVENC/NVDEC encoding</span></span>
<span class="line"><span>│   ├── CUDA acceleration</span></span>
<span class="line"><span>│   └── nvidia-docker2 integration</span></span>
<span class="line"><span>├── AMD RDNA/GCN Series  </span></span>
<span class="line"><span>│   ├── VAAPI acceleration</span></span>
<span class="line"><span>│   ├── AMF encoding</span></span>
<span class="line"><span>│   └── Mesa driver integration</span></span>
<span class="line"><span>├── Intel Arc/Iris</span></span>
<span class="line"><span>│   ├── QuickSync encoding</span></span>
<span class="line"><span>│   ├── VA-API support</span></span>
<span class="line"><span>│   └── Intel media drivers</span></span>
<span class="line"><span>└── Raspberry Pi</span></span>
<span class="line"><span>    ├── VideoCore GPU</span></span>
<span class="line"><span>    ├── Hardware decode</span></span>
<span class="line"><span>    └── GPU memory allocation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="performance-profiles" tabindex="-1">Performance Profiles <a class="header-anchor" href="#performance-profiles" aria-label="Permalink to &quot;Performance Profiles&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Profile</th><th>Resources</th><th>Use Case</th><th>Transcoding</th></tr></thead><tbody><tr><td><strong>Light</strong></td><td>25% CPU, 4GB RAM</td><td>Development</td><td>Software only</td></tr><tr><td><strong>Balanced</strong></td><td>50% CPU, 8GB RAM</td><td>Home server</td><td>Hardware enabled</td></tr><tr><td><strong>High</strong></td><td>75% CPU, 16GB RAM</td><td>Media server</td><td>Optimized</td></tr><tr><td><strong>Dedicated</strong></td><td>100% CPU, All RAM</td><td>Appliance</td><td>Maximum</td></tr></tbody></table><h2 id="storage-architecture" tabindex="-1">Storage Architecture <a class="header-anchor" href="#storage-architecture" aria-label="Permalink to &quot;Storage Architecture&quot;">​</a></h2><h3 id="hot-swappable-jbod-design" tabindex="-1">Hot-Swappable JBOD Design <a class="header-anchor" href="#hot-swappable-jbod-design" aria-label="Permalink to &quot;Hot-Swappable JBOD Design&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Storage Pool Management:</span></span>
<span class="line"><span>├── Drive Discovery</span></span>
<span class="line"><span>│   ├── Local drives (HDD/SSD/NVMe)</span></span>
<span class="line"><span>│   ├── USB/External (hot-pluggable)</span></span>
<span class="line"><span>│   ├── Network storage (NFS/SMB)</span></span>
<span class="line"><span>│   └── Cloud mounts (rclone)</span></span>
<span class="line"><span>├── Pool Configuration</span></span>
<span class="line"><span>│   ├── Interactive selection</span></span>
<span class="line"><span>│   ├── Cross-platform compatibility</span></span>
<span class="line"><span>│   ├── Permission management</span></span>
<span class="line"><span>│   └── Mount point generation</span></span>
<span class="line"><span>└── Service Integration</span></span>
<span class="line"><span>    ├── Dynamic Docker Compose</span></span>
<span class="line"><span>    ├── API synchronization</span></span>
<span class="line"><span>    ├── Hot-swap workflows</span></span>
<span class="line"><span>    └── Zero-downtime updates</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="cross-platform-compatibility" tabindex="-1">Cross-Platform Compatibility <a class="header-anchor" href="#cross-platform-compatibility" aria-label="Permalink to &quot;Cross-Platform Compatibility&quot;">​</a></h3><ul><li><strong>ExFAT support</strong> - Works across Windows/macOS/Linux</li><li><strong>Portable drives</strong> - Camping trips and travel</li><li><strong>Cloud integration</strong> - Dropbox, OneDrive, Google Drive</li><li><strong>Network storage</strong> - NAS and server integration</li></ul><h2 id="service-integration-architecture" tabindex="-1">Service Integration Architecture <a class="header-anchor" href="#service-integration-architecture" aria-label="Permalink to &quot;Service Integration Architecture&quot;">​</a></h2><h3 id="api-synchronization" tabindex="-1">API Synchronization <a class="header-anchor" href="#api-synchronization" aria-label="Permalink to &quot;API Synchronization&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Storage Change Event:</span></span>
<span class="line"><span>├── Drive Detection</span></span>
<span class="line"><span>├── Pool Update</span></span>
<span class="line"><span>├── Docker Compose Generation</span></span>
<span class="line"><span>├── Service API Updates</span></span>
<span class="line"><span>│   ├── Sonarr: Root folders</span></span>
<span class="line"><span>│   ├── Radarr: Movie libraries  </span></span>
<span class="line"><span>│   ├── Jellyfin: Media libraries</span></span>
<span class="line"><span>│   └── Tdarr: Processing paths</span></span>
<span class="line"><span>└── Health Validation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="service-dependencies" tabindex="-1">Service Dependencies <a class="header-anchor" href="#service-dependencies" aria-label="Permalink to &quot;Service Dependencies&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Dependency Graph:</span></span>
<span class="line"><span>├── Core Services (Always first)</span></span>
<span class="line"><span>│   ├── Prowlarr (indexer management)</span></span>
<span class="line"><span>│   └── SABnzbd (download client)</span></span>
<span class="line"><span>├── Automation Services</span></span>
<span class="line"><span>│   ├── Sonarr (depends: Prowlarr, SABnzbd)</span></span>
<span class="line"><span>│   ├── Radarr (depends: Prowlarr, SABnzbd)</span></span>
<span class="line"><span>│   └── Bazarr (depends: Sonarr, Radarr)</span></span>
<span class="line"><span>├── Media Services</span></span>
<span class="line"><span>│   ├── Jellyfin (depends: storage availability)</span></span>
<span class="line"><span>│   └── Tdarr (depends: Jellyfin, storage)</span></span>
<span class="line"><span>└── Management Services</span></span>
<span class="line"><span>    ├── Overseerr (depends: Sonarr, Radarr)</span></span>
<span class="line"><span>    └── Recyclarr (depends: Sonarr, Radarr)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="quality-assurance-architecture" tabindex="-1">Quality Assurance Architecture <a class="header-anchor" href="#quality-assurance-architecture" aria-label="Permalink to &quot;Quality Assurance Architecture&quot;">​</a></h2><h3 id="testing-framework" tabindex="-1">Testing Framework <a class="header-anchor" href="#testing-framework" aria-label="Permalink to &quot;Testing Framework&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Quality Gates:</span></span>
<span class="line"><span>├── Code Quality (Stan&#39;s Standards)</span></span>
<span class="line"><span>│   ├── 80-character lines</span></span>
<span class="line"><span>│   ├── Function contracts</span></span>
<span class="line"><span>│   ├── Error handling</span></span>
<span class="line"><span>│   └── Documentation</span></span>
<span class="line"><span>├── Functionality Testing</span></span>
<span class="line"><span>│   ├── Unit tests (component level)</span></span>
<span class="line"><span>│   ├── Integration tests (workflow level)</span></span>
<span class="line"><span>│   ├── System tests (full stack)</span></span>
<span class="line"><span>│   └── Regression tests (change validation)</span></span>
<span class="line"><span>└── User Experience Testing</span></span>
<span class="line"><span>    ├── CLI usability</span></span>
<span class="line"><span>    ├── Error message clarity</span></span>
<span class="line"><span>    ├── Help system completeness</span></span>
<span class="line"><span>    └── Performance benchmarks</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="validation-system" tabindex="-1">Validation System <a class="header-anchor" href="#validation-system" aria-label="Permalink to &quot;Validation System&quot;">​</a></h3><ul><li><strong>Pre-deployment checks</strong> - System requirements, configuration</li><li><strong>Runtime monitoring</strong> - Service health, resource usage</li><li><strong>Auto-fix capabilities</strong> - Common issues resolution</li><li><strong>Comprehensive reporting</strong> - JSON exports, troubleshooting</li></ul><h2 id="extensibility-architecture" tabindex="-1">Extensibility Architecture <a class="header-anchor" href="#extensibility-architecture" aria-label="Permalink to &quot;Extensibility Architecture&quot;">​</a></h2><h3 id="adding-new-services" tabindex="-1">Adding New Services <a class="header-anchor" href="#adding-new-services" aria-label="Permalink to &quot;Adding New Services&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add service to docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">services:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  new-service:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    image:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new-service:latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ports:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;8888:8080&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    volumes:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./config/new-service:/config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    environment:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> API_KEY=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${NEW_SERVICE_API_KEY}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Register with CLI system</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new-service</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --category</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> custom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="custom-hardware-support" tabindex="-1">Custom Hardware Support <a class="header-anchor" href="#custom-hardware-support" aria-label="Permalink to &quot;Custom Hardware Support&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add hardware detection logic</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">detect_custom_hardware</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Custom GPU detection</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lspci</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;custom gpu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Custom GPU detected&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Register optimization profile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usenet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> profile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> custom-gpu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --transcoding-args</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;-hwaccel custom&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --quality-settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> high</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="related-architecture-documentation" tabindex="-1">Related Architecture Documentation <a class="header-anchor" href="#related-architecture-documentation" aria-label="Permalink to &quot;Related Architecture Documentation&quot;">​</a></h2><ul><li><a href="./cli-design.html">CLI Design Patterns</a> - Command architecture deep dive</li><li><a href="./services.html">Service Architecture</a> - 19-service integration details</li><li><a href="./storage.html">Storage Architecture</a> - Hot-swappable JBOD implementation</li><li><a href="./hardware.html">Hardware Architecture</a> - Multi-platform GPU optimization</li><li><a href="./network.html">Network Architecture</a> - Security and connectivity design</li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Aristoddle/usenet-media-stack/edit/main/docs/architecture/index.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/architecture/cli-design.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>CLI Design</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Built with ❤️ following Bell Labs standards. Dedicated to Stan Eisenstat.</p><p class="copyright" data-v-566314d4>Copyright © 2025 Joseph Lanzone. MIT Licensed.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"advanced_api-integration.md\":\"CTbr95lf\",\"advanced_backup-strategies.md\":\"CwhGTDc7\",\"advanced_custom-configs.md\":\"C4DHO3wk\",\"advanced_hot-swap.md\":\"TA3BlQHB\",\"advanced_index.md\":\"BFC3Ypzk\",\"advanced_performance.md\":\"CdnSuUSs\",\"advanced_troubleshooting.md\":\"CcF5IDGN\",\"architecture_cli-design.md\":\"D3A01e7a\",\"architecture_hardware.md\":\"6wmGWSyp\",\"architecture_index.md\":\"nLpJVIN1\",\"architecture_network.md\":\"CcqteP-L\",\"architecture_services.md\":\"D_oqnOPO\",\"architecture_storage.md\":\"DWFfkMXR\",\"cli_backup.md\":\"B7dII8GQ\",\"cli_deploy.md\":\"fnJtwz8Y\",\"cli_hardware.md\":\"DusV40XG\",\"cli_index.md\":\"BhmNjM4-\",\"cli_services.md\":\"CQvZnCLp\",\"cli_storage.md\":\"DZxwWae8\",\"cli_validate.md\":\"B9sa0mw8\",\"free-media.md\":\"CQGcZbrm\",\"getting-started_first-deployment.md\":\"se-gfF_n\",\"getting-started_index.md\":\"OrHNeGr_\",\"getting-started_installation.md\":\"D4SbMTE4\",\"getting-started_prerequisites.md\":\"DBgsom5l\",\"hardware_index.md\":\"Cl4kIx41\",\"index.md\":\"DaXGgSDF\",\"roadmap.md\":\"C2d5KkLP\",\"security.md\":\"DlNMRaE5\",\"storage_index.md\":\"C8K4IevL\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Usenet Media Stack\",\"description\":\"Professional-grade hot-swappable JBOD media automation with intelligent deployment and \\\"just fucking works\\\" usability.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/getting-started/\"},{\"text\":\"📚 Free Media\",\"link\":\"/free-media\"},{\"text\":\"CLI Reference\",\"link\":\"/cli/\"},{\"text\":\"Architecture\",\"link\":\"/architecture/\"},{\"text\":\"Advanced\",\"link\":\"/advanced/\"},{\"text\":\"Links\",\"items\":[{\"text\":\"GitHub\",\"link\":\"https://github.com/Aristoddle/usenet-media-stack\"},{\"text\":\"📧 Request Credentials\",\"link\":\"mailto:j3lanzone@gmail.com?subject=Usenet%20Media%20Stack%20-%20Credential%20Request&body=Hi%20Joe,%0A%0AI'd%20like%20access%20to%20your%20professional%20media%20automation%20stack.%20Please%20send%20me:%0A%0A-%20Usenet%20provider%20credentials%0A-%20Indexer%20API%20keys%0A-%20Anna's%20Archive%20professional%20access%0A-%20VPN%20configuration%0A%0AThanks!\"},{\"text\":\"Issues\",\"link\":\"https://github.com/Aristoddle/usenet-media-stack/issues\"},{\"text\":\"Roadmap\",\"link\":\"/roadmap\"}]}],\"sidebar\":{\"/getting-started/\":[{\"text\":\"🚀 Getting Started\",\"items\":[{\"text\":\"Quick Start\",\"link\":\"/getting-started/\"},{\"text\":\"Prerequisites\",\"link\":\"/getting-started/prerequisites\"},{\"text\":\"Installation\",\"link\":\"/getting-started/installation\"},{\"text\":\"First Deployment\",\"link\":\"/getting-started/first-deployment\"}]}],\"/cli/\":[{\"text\":\"📋 CLI Reference\",\"items\":[{\"text\":\"Overview\",\"link\":\"/cli/\"},{\"text\":\"Deploy Command\",\"link\":\"/cli/deploy\"},{\"text\":\"Storage Management\",\"link\":\"/cli/storage\"},{\"text\":\"Hardware Optimization\",\"link\":\"/cli/hardware\"},{\"text\":\"Backup & Restore\",\"link\":\"/cli/backup\"},{\"text\":\"Service Management\",\"link\":\"/cli/services\"},{\"text\":\"Validation\",\"link\":\"/cli/validate\"}]}],\"/architecture/\":[{\"text\":\"🏗️ Architecture\",\"items\":[{\"text\":\"System Overview\",\"link\":\"/architecture/\"},{\"text\":\"CLI Design\",\"link\":\"/architecture/cli-design\"},{\"text\":\"Service Architecture\",\"link\":\"/architecture/services\"},{\"text\":\"Storage System\",\"link\":\"/architecture/storage\"},{\"text\":\"Hardware Integration\",\"link\":\"/architecture/hardware\"},{\"text\":\"Network & Security\",\"link\":\"/architecture/network\"}]}],\"/advanced/\":[{\"text\":\"🔧 Advanced Topics\",\"items\":[{\"text\":\"Overview\",\"link\":\"/advanced/\"},{\"text\":\"Custom Configurations\",\"link\":\"/advanced/custom-configs\"},{\"text\":\"Performance Tuning\",\"link\":\"/advanced/performance\"},{\"text\":\"Backup Strategies\",\"link\":\"/advanced/backup-strategies\"},{\"text\":\"Hot-Swap Workflows\",\"link\":\"/advanced/hot-swap\"},{\"text\":\"API Integration\",\"link\":\"/advanced/api-integration\"},{\"text\":\"Troubleshooting\",\"link\":\"/advanced/troubleshooting\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Aristoddle/usenet-media-stack\"}],\"footer\":{\"message\":\"Built with ❤️ following Bell Labs standards. Dedicated to Stan Eisenstat.\",\"copyright\":\"Copyright © 2025 Joseph Lanzone. MIT Licensed.\"},\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/Aristoddle/usenet-media-stack/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Updated at\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>